<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="paper_format_arc" model="report.paperformat">
			<field name="name">paper format</field>
			<field name="default" eval="True"/>
			<field name="format">A4</field>
			<field name="orientation">Portrait</field>
			<field name="header_line" eval="False"/>
			<field name="header_spacing">25</field>
			<field name="margin_top">27</field>
			<field name="margin_bottom">30</field>
			<field name="margin_left">10</field>
			<field name="margin_right">5</field>
			<field name="dpi">90</field>
		</record>
		
		<report
				id="arc_doc"
				string="ARC document"
				model="purchase.order"
				report_type="qweb-pdf"
				name="cisamrein_purchase.report_arc_document"
				file="cisamrein_purchase.report_arc_document"
				print_report_name="'ARC Document - %s' % (object.name)"
				paperformat="paper_format_arc"
		/>
		
		<function model="ir.actions.report" name="unlink_action">
			<value eval="[ref('cisamrein_purchase.arc_doc')]"/>
		</function>
		
		<template id="arc_document_template" inherit_id="purchase.report_purchaseorder_document">
			<xpath expr="//h2[3]" position="replace">
				<h2 t-if="o.state in ['purchase', 'done'] and is_arc_forma" class="mt16">
					Order Aknowledgement Document #
				</h2>
				<h2 t-if="o.state in ['purchase', 'done'] and not is_arc_forma">Purchase Order #
					<span t-field="o.name"/>
				</h2>
			</xpath>
		</template>
		
		<template id="report_arc_document">
			<t t-call="web.html_container">
				<t t-set="is_arc_forma" t-value="True"/>
				<t t-foreach="docs" t-as="doc">
					<t t-call="cisamrein_purchase.arc_document_template" t-lang="doc.partner_id.lang"/>
				</t>
			</t>
		</template>
	
	</data>
</odoo>